{% extends "layout.html" %}

{% block content %}

<h1 class="mb-3">{{ title }}</h1>

{# Update Account Form #}
<div class="container mb-3 py-3 border rounded">
    <h3 class="mb-3">Update Account</h3>
    <form method="POST">
        {{ update_account_form.csrf_token }}
        <div class="mb-3">
            {{ update_account_form.username.label }}
            {{ update_account_form.username(class="form-control") }}
            {% if update_account_form.username.errors %}
                {% for error in update_account_form.username.errors %}
                <div class="alert alert-danger mt-3" role="alert">
                    {{ error }}
                </div>
                {% endfor %}
            {% endif %}
        </div>
        <div class="mb-3">
            {{ update_account_form.about.label }}
            {{ update_account_form.about(class="form-control") }}
            {% if update_account_form.about.errors %}
                {% for error in update_account_form.about.errors %}
                <div class="alert alert-danger mt-3" role="alert">
                    {{ error }}
                </div>
                {% endfor %}
            {% endif %}
        </div>
        {{ update_account_form.submit_account(class="btn btn-primary") }}
    </form>
</div>

{# Update Profile Picture Form #}
<div class="container mb-3 py-3 border rounded">
    <h3 class="mb-3">Update Profile Picture</h3>
    <form method="POST" enctype="multipart/form-data">
        {{ update_profile_pic_form.csrf_token }}
        <div class="mb-3">
            {{ update_profile_pic_form.picture.label }}
            {{ update_profile_pic_form.picture(class="form-control") }}
            {% if update_profile_pic_form.picture.errors %}
                {% for error in update_profile_pic_form.picture.errors %}
                <div class="alert alert-danger mt-3" role="alert">
                    {{ error }}
                </div>
                {% endfor %}
            {% endif %}
        </div>
        {{ update_profile_pic_form.submit_picture(class="btn btn-primary") }}
    </form>
</div>

{# Update Password Form #}
<div class="container mb-3 py-3 border rounded">
    <h3 class="mb-3">Update Password</h3>
    <form method="POST">
        {{ update_password_form.csrf_token }}
        <div class="mb-3">
            {{ update_password_form.old_password.label }}
            {{ update_password_form.old_password(class="form-control") }}
            {% if update_password_form.old_password.errors %}
                {% for error in update_password_form.old_password.errors %}
                <div class="alert alert-danger mt-3" role="alert">
                    {{ error }}
                </div>
                {% endfor %}
            {% endif %}
        </div>
        <div class="mb-3">
            {{ update_password_form.new_password.label }}
            {{ update_password_form.new_password(class="form-control") }}
            {% if update_password_form.new_password.errors %}
                {% for error in update_password_form.new_password.errors %}
                <div class="alert alert-danger mt-3" role="alert">
                    {{ error }}
                </div>
                {% endfor %}
            {% endif %}
        </div>
        <div class="mb-3">
            {{ update_password_form.confirm_new_password.label }}
            {{ update_password_form.confirm_new_password(class="form-control") }}
            {% if update_password_form.confirm_new_password.errors %}
                {% for error in update_password_form.confirm_new_password.errors %}
                <div class="alert alert-danger mt-3" role="alert">
                    {{ error }}
                </div>
                {% endfor %}
            {% endif %}
        </div>
        {{ update_password_form.submit_password(class="btn btn-primary") }}
    </form>
</div>

{% endblock %}